<!DOCTYPE html>
<html>
<head>
    <title>OUSD Debug</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>OUSD Dashboard Debug</h1>
    <div id="debug-info"></div>
    <canvas id="test-chart" width="400" height="200"></canvas>
    
    <script src="data.js"></script>
    <script src="charts.js"></script>
    <script src="app.js"></script>
    <script>
        console.log('=== DEBUG INFO ===');
        console.log('schoolData:', typeof schoolData);
        console.log('dataUtils:', typeof dataUtils);
        console.log('OUSDDashboard:', typeof OUSDDashboard);
        
        if (schoolData) {
            console.log('Number of schools:', schoolData.getAllSchools().length);
            console.log('Schools:', schoolData.getAllSchools().map(s => s.name));
        }
        
        // Test chart creation
        try {
            const ctx = document.getElementById('test-chart');
            const chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['2020', '2021', '2022', '2023', '2024'],
                    datasets: [{
                        label: 'Test Data',
                        data: [10, 20, 30, 40, 50],
                        borderColor: 'rgb(75, 192, 192)',
                        tension: 0.1
                    }]
                }
            });
            console.log('Chart created successfully');
        } catch (error) {
            console.error('Chart creation failed:', error);
        }
        
        document.getElementById('debug-info').innerHTML = `
            <p>schoolData: ${typeof schoolData}</p>
            <p>dataUtils: ${typeof dataUtils}</p>
            <p>OUSDDashboard: ${typeof OUSDDashboard}</p>
            <p>Number of schools: ${schoolData ? schoolData.getAllSchools().length : 'undefined'}</p>
        `;
    </script>
</body>
</html>
